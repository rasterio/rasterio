

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>rasterio.warp module &mdash; rasterio 1.0a12 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="rasterio 1.0a12 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> rasterio
          

          
          </a>

          
            
            
              <div class="version">
                1.0a12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch.html">Switching from GDAL’s Python bindings</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topics/color.html">Color</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/concurrency.html">Concurrent processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/errors.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/features.html">Vector Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/fillnodata.html">Filling nodata areas</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/georeferencing.html">Georeferencing</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/image_options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/image_processing.html">Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/masking-by-shapefile.html">Masking a raster using a shapefile</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/masks.html">Nodata Masks</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/memory-files.html">In-Memory Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/migrating-to-v1.html">Migrating to Rasterio 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/overviews.html">Overviews</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/reproject.html">Reprojection</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/resampling.html">Resampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/tags.html">Tagging datasets and bands</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/virtual-warping.html">Virtual Warping</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/vsi.html">Virtual Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/windowed-rw.html">Windowed reading and writing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">rasterio package</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Users Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">rasterio</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>rasterio.warp module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/rasterio.warp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-rasterio.warp">
<span id="rasterio-warp-module"></span><h1>rasterio.warp module<a class="headerlink" href="#module-rasterio.warp" title="Permalink to this headline">¶</a></h1>
<p>Raster warping and reprojection.</p>
<dl class="function">
<dt id="rasterio.warp.calculate_default_transform">
<code class="descclassname">rasterio.warp.</code><code class="descname">calculate_default_transform</code><span class="sig-paren">(</span><em>src_crs</em>, <em>dst_crs</em>, <em>width</em>, <em>height</em>, <em>left=None</em>, <em>bottom=None</em>, <em>right=None</em>, <em>top=None</em>, <em>gcps=None</em>, <em>resolution=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/warp.html#calculate_default_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.warp.calculate_default_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Output dimensions and transform for a reprojection.</p>
<p>Source and destination coordinate reference systems and output
width and height are the first four, required, parameters. Source
georeferencing can be specified using either ground control points
(gcps) or spatial bounds (left, bottom, right, top). These two
forms of georeferencing are mutually exclusive.</p>
<p>The destination transform is anchored at the left, top coordinate.</p>
<p>Destination width and height (and resolution if not provided), are
calculated using GDAL’s method for suggest warp output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Source coordinate reference system, in rasterio dict format.
Example: CRS({‘init’: ‘EPSG:4326’})</p>
</div></blockquote>
<p><strong>dst_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Target coordinate reference system.</p>
</div></blockquote>
<p><strong>width, height: int</strong></p>
<blockquote>
<div><p>Source raster width and height.</p>
</div></blockquote>
<p><strong>left, bottom, right, top: float, optional</strong></p>
<blockquote>
<div><p>Bounding coordinates in src_crs, from the bounds property of a
raster. Required unless using gcps.</p>
</div></blockquote>
<p><strong>gcps: sequence of GroundControlPoint, optional</strong></p>
<blockquote>
<div><p>Instead of a bounding box for the source, a sequence of ground
control points may be provided.</p>
</div></blockquote>
<p><strong>resolution: tuple (x resolution, y resolution) or float, optional</strong></p>
<blockquote>
<div><p>Target resolution, in units of target coordinate reference
system.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">transform: Affine</p>
<blockquote>
<div><p>Output affine transformation matrix</p>
</div></blockquote>
<p>width, height: int</p>
<blockquote class="last">
<div><p>Output dimensions</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Some behavior of this function is determined by the
CHECK_WITH_INVERT_PROJ environment variable:</p>
<blockquote>
<div><dl class="docutils">
<dt>YES: constrain output raster to extents that can be inverted</dt>
<dd>avoids visual artifacts and coordinate discontinuties.</dd>
</dl>
<p>NO:  reproject coordinates beyond valid bound limits</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="rasterio.warp.reproject">
<code class="descclassname">rasterio.warp.</code><code class="descname">reproject</code><span class="sig-paren">(</span><em>source</em>, <em>destination</em>, <em>src_transform=None</em>, <em>gcps=None</em>, <em>src_crs=None</em>, <em>src_nodata=None</em>, <em>dst_transform=None</em>, <em>dst_crs=None</em>, <em>dst_nodata=None</em>, <em>resampling=&lt;Resampling.nearest: 0&gt;</em>, <em>init_dest_nodata=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/warp.html#reproject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.warp.reproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Reproject a source raster to a destination raster.</p>
<p>If the source and destination are ndarrays, coordinate reference
system definitions and affine transformation parameters or ground
control points (gcps) are required for reprojection.</p>
<p>If the source and destination are rasterio Bands, shorthand for
bands of datasets on disk, the coordinate reference systems and
transforms or GCPs will be read from the appropriate datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>source, destination: ndarray or Band</strong></p>
<blockquote>
<div><p>The source and destination are 2 or 3-D ndarrays, or a single
or multiple Rasterio Band object. The dimensionality of source
and destination must match, i.e., for multiband reprojection
the lengths of the first axes of the source and destination
must be the same.</p>
</div></blockquote>
<p><strong>src_transform: affine.Affine(), optional</strong></p>
<blockquote>
<div><p>Source affine transformation. Required if source and
destination are ndarrays. Will be derived from source if it is
a rasterio Band. An error will be raised if this parameter is
defined together with gcps.</p>
</div></blockquote>
<p><strong>gcps: sequence of GroundControlPoint, optional</strong></p>
<blockquote>
<div><p>Ground control points for the source. An error will be raised
if this parameter is defined together with src_transform.</p>
</div></blockquote>
<p><strong>src_crs: CRS or dict, optional</strong></p>
<blockquote>
<div><p>Source coordinate reference system, in rasterio dict format.
Required if source and destination are ndarrays.
Will be derived from source if it is a rasterio Band.
Example: CRS({‘init’: ‘EPSG:4326’})</p>
</div></blockquote>
<p><strong>src_nodata: int or float, optional</strong></p>
<blockquote>
<div><p>The source nodata value.Pixels with this value will not be
used for interpolation. If not set, it will be default to the
nodata value of the source image if a masked ndarray or
rasterio band, if available.</p>
</div></blockquote>
<p><strong>dst_transform: affine.Affine(), optional</strong></p>
<blockquote>
<div><p>Target affine transformation. Required if source and
destination are ndarrays. Will be derived from target if it is
a rasterio Band.</p>
</div></blockquote>
<p><strong>dst_crs: CRS or dict, optional</strong></p>
<blockquote>
<div><p>Target coordinate reference system. Required if source and
destination are ndarrays. Will be derived from target if it
is a rasterio Band.</p>
</div></blockquote>
<p><strong>dst_nodata: int or float, optional</strong></p>
<blockquote>
<div><p>The nodata value used to initialize the destination; it will
remain in all areas not covered by the reprojected source.
Defaults to the nodata value of the destination image (if set),
the value of src_nodata, or 0 (GDAL default).</p>
</div></blockquote>
<p><strong>resampling: int</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>Resampling method to use.  One of the following:</dt>
<dd><p class="first last">Resampling.nearest,
Resampling.bilinear,
Resampling.cubic,
Resampling.cubic_spline,
Resampling.lanczos,
Resampling.average,
Resampling.mode</p>
</dd>
</dl>
</div></blockquote>
<p><strong>init_dest_nodata: bool</strong></p>
<blockquote>
<div><p>Flag to specify initialization of nodata in destination;
prevents overwrite of previous warps. Defaults to True.</p>
</div></blockquote>
<p><strong>kwargs:  dict, optional</strong></p>
<blockquote>
<div><p>Additional arguments passed to transformation function.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">out: None</p>
<blockquote class="last">
<div><p>Output is written to destination.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="rasterio.warp.transform">
<code class="descclassname">rasterio.warp.</code><code class="descname">transform</code><span class="sig-paren">(</span><em>src_crs</em>, <em>dst_crs</em>, <em>xs</em>, <em>ys</em>, <em>zs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/warp.html#transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.warp.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform vectors from source to target coordinate reference system.</p>
<p>Transform vectors of x, y and optionally z from source
coordinate reference system into target.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Source coordinate reference system, as a rasterio CRS object.
Example: CRS({‘init’: ‘EPSG:4326’})</p>
</div></blockquote>
<p><strong>dst_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Target coordinate reference system.</p>
</div></blockquote>
<p><strong>xs: array_like</strong></p>
<blockquote>
<div><p>Contains x values.  Will be cast to double floating point values.</p>
</div></blockquote>
<p><strong>ys:  array_like</strong></p>
<blockquote>
<div><p>Contains y values.</p>
</div></blockquote>
<p><strong>zs: array_like, optional</strong></p>
<blockquote>
<div><p>Contains z values.  Assumed to be all 0 if absent.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">out: tuple of array_like, (xs, ys, [zs])</p>
<blockquote class="last">
<div><p>Tuple of x, y, and optionally z vectors, transformed into the target
coordinate reference system.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="rasterio.warp.transform_bounds">
<code class="descclassname">rasterio.warp.</code><code class="descname">transform_bounds</code><span class="sig-paren">(</span><em>src_crs</em>, <em>dst_crs</em>, <em>left</em>, <em>bottom</em>, <em>right</em>, <em>top</em>, <em>densify_pts=21</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/warp.html#transform_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.warp.transform_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform bounds from src_crs to dst_crs.</p>
<p>Optionally densifying the edges (to account for nonlinear transformations
along these edges) and extracting the outermost bounds.</p>
<p>Note: this does not account for the antimeridian.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Source coordinate reference system, in rasterio dict format.
Example: CRS({‘init’: ‘EPSG:4326’})</p>
</div></blockquote>
<p><strong>dst_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Target coordinate reference system.</p>
</div></blockquote>
<p><strong>left, bottom, right, top: float</strong></p>
<blockquote>
<div><p>Bounding coordinates in src_crs, from the bounds property of a raster.</p>
</div></blockquote>
<p><strong>densify_pts: uint, optional</strong></p>
<blockquote>
<div><p>Number of points to add to each edge to account for nonlinear
edges produced by the transform process.  Large numbers will produce
worse performance.  Default: 21 (gdal default).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">left, bottom, right, top: float</p>
<blockquote class="last">
<div><p>Outermost coordinates in target coordinate reference system.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="rasterio.warp.transform_geom">
<code class="descclassname">rasterio.warp.</code><code class="descname">transform_geom</code><span class="sig-paren">(</span><em>src_crs</em>, <em>dst_crs</em>, <em>geom</em>, <em>antimeridian_cutting=True</em>, <em>antimeridian_offset=10.0</em>, <em>precision=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/warp.html#transform_geom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.warp.transform_geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform geometry from source coordinate reference system into target.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Source coordinate reference system, in rasterio dict format.
Example: CRS({‘init’: ‘EPSG:4326’})</p>
</div></blockquote>
<p><strong>dst_crs: CRS or dict</strong></p>
<blockquote>
<div><p>Target coordinate reference system.</p>
</div></blockquote>
<p><strong>geom: GeoJSON like dict object</strong></p>
<p><strong>antimeridian_cutting: bool, optional</strong></p>
<blockquote>
<div><p>If True, cut geometries at the antimeridian, otherwise geometries
will not be cut (default).  If False and GDAL is 2.2.0 or newer
an exception is raised.  Antimeridian cutting is always on as of
GDAL 2.2.0 but this could produce an unexpected geometry.</p>
</div></blockquote>
<p><strong>antimeridian_offset: float</strong></p>
<blockquote>
<div><p>Offset from the antimeridian in degrees (default: 10) within which
any geometries will be split.</p>
</div></blockquote>
<p><strong>precision: float</strong></p>
<blockquote>
<div><p>If &gt;= 0, geometry coordinates will be rounded to this number of decimal
places after the transform operation, otherwise original coordinate
values will be preserved (default).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">out: GeoJSON like dict object</p>
<blockquote class="last">
<div><p>Transformed geometry in GeoJSON dict format</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mapbox.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0a12',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>