

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>rasterio.env module &mdash; rasterio 1.0a12 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="rasterio 1.0a12 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> rasterio
          

          
          </a>

          
            
            
              <div class="version">
                1.0a12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch.html">Switching from GDAL’s Python bindings</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topics/color.html">Color</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/concurrency.html">Concurrent processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/errors.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/features.html">Vector Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/fillnodata.html">Filling nodata areas</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/georeferencing.html">Georeferencing</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/image_options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/image_processing.html">Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/masking-by-shapefile.html">Masking a raster using a shapefile</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/masks.html">Nodata Masks</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/memory-files.html">In-Memory Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/migrating-to-v1.html">Migrating to Rasterio 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/overviews.html">Overviews</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/reproject.html">Reprojection</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/resampling.html">Resampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/tags.html">Tagging datasets and bands</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/virtual-warping.html">Virtual Warping</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/virtual-warping.html#normalizing-data-to-a-consistent-grid">Normalizing Data to a Consistent Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/vsi.html">Virtual Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/windowed-rw.html">Windowed reading and writing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">rasterio package</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Users Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">rasterio</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>rasterio.env module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/rasterio.env.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-rasterio.env">
<span id="rasterio-env-module"></span><h1>rasterio.env module<a class="headerlink" href="#module-rasterio.env" title="Permalink to this headline">¶</a></h1>
<p>Rasterio’s GDAL/AWS environment</p>
<dl class="class">
<dt id="rasterio.env.Env">
<em class="property">class </em><code class="descclassname">rasterio.env.</code><code class="descname">Env</code><span class="sig-paren">(</span><em>session=None</em>, <em>aws_access_key_id=None</em>, <em>aws_secret_access_key=None</em>, <em>aws_session_token=None</em>, <em>region_name=None</em>, <em>profile_name=None</em>, <em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#Env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.Env" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Abstraction for GDAL and AWS configuration</p>
<p>The GDAL library is stateful: it has a registry of format drivers,
an error stack, and dozens of configuration options.</p>
<p>Rasterio’s approach to working with GDAL is to wrap all the state
up using a Python context manager (see PEP 343,
<a class="reference external" href="https://www.python.org/dev/peps/pep-0343/">https://www.python.org/dev/peps/pep-0343/</a>). When the context is
entered GDAL drivers are registered, error handlers are
configured, and configuration options are set. When the context
is exited, drivers are removed from the registry and other
configurations are removed.</p>
<p>Example:</p>
<blockquote>
<div><dl class="docutils">
<dt>with rasterio.Env(GDAL_CACHEMAX=512) as env:</dt>
<dd># All drivers are registered, GDAL’s raster block cache
# size is set to 512MB.
# Commence processing…
…
# End of processing.</dd>
</dl>
<p># At this point, configuration options are set to their
# previous (possible unset) values.</p>
</div></blockquote>
<p>A boto3 session or boto3 session constructor arguments
<cite>aws_access_key_id</cite>, <cite>aws_secret_access_key</cite>, <cite>aws_session_token</cite>
may be passed to Env’s constructor. In the latter case, a session
will be created as soon as needed. AWS credentials are configured
for GDAL as needed.</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#rasterio.env.Env.is_credentialized" title="rasterio.env.Env.is_credentialized"><code class="xref py py-obj docutils literal"><span class="pre">is_credentialized</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#rasterio.env.Env.can_credentialize_on_enter" title="rasterio.env.Env.can_credentialize_on_enter"><code class="xref py py-obj docutils literal"><span class="pre">can_credentialize_on_enter</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rasterio.env.Env.credentialize" title="rasterio.env.Env.credentialize"><code class="xref py py-obj docutils literal"><span class="pre">credentialize</span></code></a>()</td>
<td>Get credentials and configure GDAL</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rasterio.env.Env.drivers" title="rasterio.env.Env.drivers"><code class="xref py py-obj docutils literal"><span class="pre">drivers</span></code></a>()</td>
<td>Return a mapping of registered drivers.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="rasterio.env.Env.can_credentialize_on_enter">
<code class="descname">can_credentialize_on_enter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#Env.can_credentialize_on_enter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.Env.can_credentialize_on_enter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rasterio.env.Env.credentialize">
<code class="descname">credentialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#Env.credentialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.Env.credentialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Get credentials and configure GDAL</p>
<p>Note well: this method is a no-op if the GDAL environment
already has credentials, unless session is not None.</p>
</dd></dl>

<dl class="method">
<dt id="rasterio.env.Env.drivers">
<code class="descname">drivers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#Env.drivers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.Env.drivers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a mapping of registered drivers.</p>
</dd></dl>

<dl class="attribute">
<dt id="rasterio.env.Env.is_credentialized">
<code class="descname">is_credentialized</code><a class="headerlink" href="#rasterio.env.Env.is_credentialized" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="rasterio.env.GDALVersion">
<em class="property">class </em><code class="descclassname">rasterio.env.</code><code class="descname">GDALVersion</code><span class="sig-paren">(</span><em>major=0</em>, <em>minor=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#GDALVersion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.GDALVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Convenience class for obtaining GDAL major and minor version components
and comparing between versions.  This is highly simplistic and assumes a
very normal numbering scheme for versions and ignores everything except
the major and minor components.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#rasterio.env.GDALVersion.at_least" title="rasterio.env.GDALVersion.at_least"><code class="xref py py-obj docutils literal"><span class="pre">at_least</span></code></a>(other)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rasterio.env.GDALVersion.parse" title="rasterio.env.GDALVersion.parse"><code class="xref py py-obj docutils literal"><span class="pre">parse</span></code></a>(input)</td>
<td>Parses input tuple or string to GDALVersion.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rasterio.env.GDALVersion.runtime" title="rasterio.env.GDALVersion.runtime"><code class="xref py py-obj docutils literal"><span class="pre">runtime</span></code></a>()</td>
<td>Return GDALVersion of current GDAL runtime</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="rasterio.env.GDALVersion.at_least">
<code class="descname">at_least</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#GDALVersion.at_least"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.GDALVersion.at_least" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rasterio.env.GDALVersion.major">
<code class="descname">major</code><a class="headerlink" href="#rasterio.env.GDALVersion.major" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rasterio.env.GDALVersion.minor">
<code class="descname">minor</code><a class="headerlink" href="#rasterio.env.GDALVersion.minor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="rasterio.env.GDALVersion.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#GDALVersion.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.GDALVersion.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses input tuple or string to GDALVersion. If input is a GDALVersion
instance, it is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input: tuple of (major, minor), string, or instance of GDALVersion</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">GDALVersion instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="rasterio.env.GDALVersion.runtime">
<em class="property">classmethod </em><code class="descname">runtime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#GDALVersion.runtime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.GDALVersion.runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return GDALVersion of current GDAL runtime</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rasterio.env.ThreadEnv">
<em class="property">class </em><code class="descclassname">rasterio.env.</code><code class="descname">ThreadEnv</code><a class="reference internal" href="_modules/rasterio/env.html#ThreadEnv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.ThreadEnv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">_thread._local</span></code></p>
</dd></dl>

<dl class="function">
<dt id="rasterio.env.defenv">
<code class="descclassname">rasterio.env.</code><code class="descname">defenv</code><span class="sig-paren">(</span><em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#defenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.defenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a default environment if necessary.</p>
</dd></dl>

<dl class="function">
<dt id="rasterio.env.delenv">
<code class="descclassname">rasterio.env.</code><code class="descname">delenv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#delenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.delenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete options in the existing environment.</p>
</dd></dl>

<dl class="function">
<dt id="rasterio.env.ensure_env">
<code class="descclassname">rasterio.env.</code><code class="descname">ensure_env</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#ensure_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.ensure_env" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that ensures an env exists before a function
calls any GDAL C functions.</p>
</dd></dl>

<dl class="function">
<dt id="rasterio.env.getenv">
<code class="descclassname">rasterio.env.</code><code class="descname">getenv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#getenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.getenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a mapping of current options.</p>
</dd></dl>

<dl class="function">
<dt id="rasterio.env.hascreds">
<code class="descclassname">rasterio.env.</code><code class="descname">hascreds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#hascreds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.hascreds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="rasterio.env.hasenv">
<code class="descclassname">rasterio.env.</code><code class="descname">hasenv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#hasenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.hasenv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="rasterio.env.require_gdal_version">
<code class="descclassname">rasterio.env.</code><code class="descname">require_gdal_version</code><span class="sig-paren">(</span><em>version</em>, <em>param=None</em>, <em>values=None</em>, <em>is_max_version=False</em>, <em>reason=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#require_gdal_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.require_gdal_version" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that ensures the called function or parameters are supported
by the runtime version of GDAL.  Raises GDALVersionError if conditions
are not met.</p>
<p>Examples:
</p>
<blockquote>
<div>&#64;require_gdal_version(‘2.2’)
def some_func():</div></blockquote>
<p>calling <cite>some_func</cite> with a runtime version of GDAL that is &lt; 2.2 raises a
GDALVersionErorr.</p>
<dl class="docutils">
<dt></dt>
<dd>&#64;require_gdal_version(‘2.2’, param=’foo’)
def some_func(foo=’bar’):</dd>
</dl>
<p>calling <cite>some_func</cite> with parameter <cite>foo</cite> of any value on GDAL &lt; 2.2 raises
a GDALVersionError.</p>
<dl class="docutils">
<dt></dt>
<dd>&#64;require_gdal_version(‘2.2’, param=’foo’, values=(‘bar’,))
def some_func(foo=None):</dd>
</dl>
<p>calling <cite>some_func</cite> with parameter <cite>foo</cite> and value <cite>bar</cite> on GDAL &lt; 2.2
raises a GDALVersionError.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>version: tuple, string, or GDALVersion</strong></p>
<p><strong>param: string (optional, default: None)</strong></p>
<blockquote>
<div><p>If <cite>values</cite> are absent, then all use of this parameter with a value
other than default value requires at least GDAL <cite>version</cite>.</p>
</div></blockquote>
<p><strong>values: tuple, list, or set (optional, default: None)</strong></p>
<blockquote>
<div><p>contains values that require at least GDAL <cite>version</cite>.  <cite>param</cite>
is required for <cite>values</cite>.</p>
</div></blockquote>
<p><strong>is_max_version: bool (optional, default: False)</strong></p>
<blockquote>
<div><p>if <cite>True</cite> indicates that the version provided is the maximum version
allowed, instead of requiring at least that version.</p>
</div></blockquote>
<p><strong>reason: string (optional: default: ‘’)</strong></p>
<blockquote>
<div><p>custom error message presented to user in addition to message about
GDAL version.  Use this to provide an explanation of what changed
if necessary context to the user.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">wrapped function</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="rasterio.env.setenv">
<code class="descclassname">rasterio.env.</code><code class="descname">setenv</code><span class="sig-paren">(</span><em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasterio/env.html#setenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasterio.env.setenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Set options in the existing environment.</p>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mapbox.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0a12',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>